<h2>Agendar Cita</h2>
<form>
    <div class="form-row">
        <div class="form-group col-md-4 mb-2">
            <label>Barbero</label>
            <select class="custom-select" id="barbero" name="barbero" [(ngModel)]="cita.barbero">
                <option *ngFor="let barbero of barberos" [ngValue]="barbero">{{barbero.nombre}}</option>
            </select>
        </div>
        <div class="col-md-4 mb-2">
            <label>Fecha</label>
            <div class="input-group">
                <input id="fecha" name="fecha" theme="dp-material" class="textCssDatePicker"
                    [(ngModel)]="fecha" [dpDayPicker]="datePickerConfig" (onSelect)="listarDisponibilidadBarberoXFecha()">
            </div>
        </div>
        <div class="form-group col-md-4 mb-2">
            <label>Hora</label>
            <select class="custom-select" id="hora" name="hora" [(ngModel)]="hora">
                <option *ngFor="let horario of horarios" [ngValue]="horario">{{horario.hora}}</option>
            </select>
        </div>
    </div>

    <div class="form-row">
        <div class="col-md-3 mb-2">
            <label style="margin-top: 5px;">Servicio(s):</label>
        </div>
        <div class="col-md-3 mb-2">
            <div class="form-group">
                <div class="form-check">
                    <input class="form-check-input customized-check" type="checkbox" id="corteCabello" name="corteCabello" 
                        [(ngModel)]="cita.corteCabello">
                    <label class="form-check-label customized-label-check">Corte de cabello ($15.000)</label>
                </div>
            </div>
        </div>
        <div class="col-md-3 mb-2">
            <div class="form-group">
                <div class="form-check">
                    <input class="form-check-input customized-check" type="checkbox" id="corteBarba" name="corteBarba" 
                        [(ngModel)]="cita.corteBarba">
                    <label class="form-check-label customized-label-check">Corte de barba ($10.000)</label>
                </div>
            </div>
        </div>
        <div class="col-md-3 mb-2">
            <div class="form-group">
                <div class="form-check">
                    <input class="form-check-input customized-check" type="checkbox" id="lavado" name="lavado" 
                        [(ngModel)]="cita.lavado">
                    <label class="form-check-label customized-label-check">Lavado ($5.000)</label>
                </div>
            </div>
        </div>
    </div>

    <div class="alert alert-info" role="alert">
        <span>
            Valor del servicio: 
            <h3>{{mostrarValorServicio()}}</h3>
            <span *ngIf="esDiaFestivo()">Se hace un recargo del 35% por ser festivo</span>
        </span>
    </div>

    <div class="form-group">
        <label>Cliente</label>
        <input type="text" class="form-control" id="nombreCliente" [(ngModel)]="cita.nombreCliente" name="nombreCliente">
    </div> 

    <div class="alert alert-danger" role="alert" *ngIf="errorMessage != ''">
        <span>Ha ocurrido un error:</span><br/><span>{{errorMessage}}</span>
    </div>

    <div class="form-group">
        <button type="button" class="btn btn-primary" (click)="agendarCita()">Guardar</button>
        &nbsp;
        <button type="button" class="btn btn-secondary" (click)="cargarListaCitas()">Volver</button>
    </div>
</form>